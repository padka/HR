# –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ Backlog

**–î–∞—Ç–∞:** 2025-11-04
**–í—Å–µ–≥–æ –∑–∞–¥–∞—á:** 31 (27 –æ—Å–Ω–æ–≤–Ω—ã—Ö + 4 –≤ backlog)
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** ~9 –Ω–µ–¥–µ–ª—å

---

## –ë—ã—Å—Ç—Ä—ã–π –æ–±–∑–æ—Ä –ø–æ —Å–ø—Ä–∏–Ω—Ç–∞–º

| Sprint | –ù–µ–¥–µ–ª–∏ | –ó–∞–¥–∞—á | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –§–æ–∫—É—Å |
|--------|--------|-------|-----------|-------|
| Sprint 0 | –°–µ–≥–æ–¥–Ω—è | 3 | P0 | üî¥ Security: –†–æ—Ç–∞—Ü–∏—è credentials |
| Sprint 1 | 1 | 5 | P0-P1 | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏ + Security |
| Sprint 2 | 2-3 | 2 | P1-P2 | üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ |
| Sprint 3 | 4-5 | 4 | P1-P2 | üîí Security + Code Quality |
| Sprint 4 | 6 | 3 | P1-P2 | üíæ Database & Performance |
| Sprint 5 | 7-8 | 4 | P2-P3 | ‚úÖ Testing & DevOps |
| Sprint 6 | 9 | 3 | P2-P3 | üìö Documentation |

---

## –¢–æ–ø-10 –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö –∑–∞–¥–∞—á

### ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ)

1. **SEC-001** - –†–æ—Ç–∞—Ü–∏—è —É—Ç–µ–∫—à–∏—Ö credentials [P0] - **2 —á–∞—Å–∞**
   - –û—Ç–æ–∑–≤–∞—Ç—å BOT_TOKEN, –ø–æ–º–µ–Ω—è—Ç—å ADMIN_PASSWORD, SESSION_SECRET

2. **SEC-002** - –£–¥–∞–ª–∏—Ç—å .env –∏–∑ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ [P0] - **15 –º–∏–Ω—É—Ç**

3. **SEC-003** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–ª—å–Ω–æ–≥–æ SESSION_SECRET [P0] - **30 –º–∏–Ω—É—Ç**

### üî• –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—ç—Ç–∞ –Ω–µ–¥–µ–ª—è)

4. **BUG-001** - P0 Bug: NotificationLog –Ω–µ –æ—á–∏—â–∞–µ—Ç—Å—è [P0] - **1-2 –¥–Ω—è**
   - –ë–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –Ω–æ–≤—ã–º –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º

5. **BUG-002** - P1 Bug: –î–≤–æ–π–Ω–æ–π booking [P1] - **2-4 —á–∞—Å–∞**
   - –ö–∞–Ω–¥–∏–¥–∞—Ç –º–æ–∂–µ—Ç –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å 2 —Å–ª–æ—Ç–∞

6. **SEC-004** - CSRF –∑–∞—â–∏—Ç–∞ [P1] - **2-3 –¥–Ω—è**
   - –ó–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫ —á–µ—Ä–µ–∑ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

7. **SEC-005** - Rate Limiting [P1] - **1-2 –¥–Ω—è**
   - –ó–∞—â–∏—Ç–∞ –æ—Ç brute-force –∏ DoS

8. **ARCH-001** - –†–∞–∑–±–∏—Ç—å services.py (4,224 —Å—Ç—Ä–æ–∫–∏) [P1] - **5-7 –¥–Ω–µ–π**
   - God-class, –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è maintainability

9. **ARCH-003** - –†–∞–∑—Ä–µ—à–∏—Ç—å —Ü–∏—Ä–∫—É–ª—è—Ä–Ω—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å [P1] - **3-5 –¥–Ω–µ–π**
   - admin_ui ‚Üî bot coupling

10. **DB-001** - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å connection pool [P1] - **2-3 —á–∞—Å–∞**
    - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å "pool exhausted" –≤ production

---

## –†–∞–∑–±–∏–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

### üîí Security (9 –∑–∞–¥–∞—á)
- **P0:** 3 (SEC-001, SEC-002, SEC-003)
- **P1:** 3 (SEC-004, SEC-005, SEC-006)
- **P2:** 2 (DOC-002, logging)
- **P3:** 1 (DEVOPS-002)

### üêõ Bugs (2 –∑–∞–¥–∞—á–∏)
- **P0:** 1 (BUG-001)
- **P1:** 1 (BUG-002)

### üèóÔ∏è Architecture (3 –∑–∞–¥–∞—á–∏)
- **P1:** 2 (ARCH-001, ARCH-003)
- **P2:** 1 (ARCH-002)

### üíé Code Quality (4 –∑–∞–¥–∞—á–∏)
- **P2:** 3 (CODE-001, CODE-002, CODE-003)
- **P3:** 1 (CODE-004)

### üíæ Database (3 –∑–∞–¥–∞—á–∏)
- **P1:** 1 (DB-001)
- **P2:** 2 (DB-002, DB-003)

### ‚úÖ Testing (2 –∑–∞–¥–∞—á–∏)
- **P2:** 2 (TEST-001, TEST-002)

### üöÄ DevOps (2 –∑–∞–¥–∞—á–∏)
- **P2:** 1 (DEVOPS-001)
- **P3:** 1 (DEVOPS-002)

### üìö Documentation (2 –∑–∞–¥–∞—á–∏)
- **P2:** 1 (DOC-002)
- **P3:** 1 (DOC-001)

---

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—É—Ç—å (–ø–µ—Ä–≤—ã–µ 2 –Ω–µ–¥–µ–ª–∏)

### –î–µ–Ω—å 1 (—Å–µ–≥–æ–¥–Ω—è):
```
09:00-11:00  SEC-001: –†–æ—Ç–∞—Ü–∏—è credentials
11:00-11:15  SEC-002: –£–¥–∞–ª–∏—Ç—å .env
11:15-12:00  SEC-003: SESSION_SECRET
```

### –ù–µ–¥–µ–ª—è 1:
```
–î–µ–Ω—å 2-3:    BUG-001: NotificationLog cleanup (1-2 –¥–Ω—è)
–î–µ–Ω—å 3:      BUG-002: Double booking fix (2-4 —á–∞—Å–∞)
             DB-001: Connection pool (2-3 —á–∞—Å–∞)
–î–µ–Ω—å 4-5:    SEC-004: CSRF protection (2-3 –¥–Ω—è)
–î–µ–Ω—å 5:      SEC-005: Rate limiting (1-2 –¥–Ω—è)
```

### –ù–µ–¥–µ–ª—è 2-3:
```
–ù–µ–¥–µ–ª—è 2-3:  ARCH-001: –†–∞–∑–±–∏—Ç—å services.py (5-7 –¥–Ω–µ–π)
             ARCH-003: –†–∞–∑—Ä–µ—à–∏—Ç—å —Ü–∏—Ä–∫—É–ª—è—Ä–Ω—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å (3-5 –¥–Ω–µ–π)
             [–ú–æ–∂–Ω–æ —Ä–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏—Ç—å –º–µ–∂–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏]
```

---

## –†–µ—Å—É—Ä—Å—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã:
- ‚úÖ –î–æ—Å—Ç—É–ø –∫ production credentials
- ‚úÖ Telegram @BotFather –¥–ª—è —Ä–æ—Ç–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–∞
- ‚úÖ –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è env vars
- ‚ùì Code review process
- ‚ùì Staging environment –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- **BUG-001** –±–ª–æ–∫–∏—Ä—É–µ—Ç production notifications
- **SEC-001** –±–ª–æ–∫–∏—Ä—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã
- **ARCH-001** –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–∞–ª—å–Ω–µ–π—à—É—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É

---

## –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ–≥–æ backlog:

### Security Score: 4/10 ‚Üí 9/10
- ‚úÖ Credentials –∑–∞—â–∏—â–µ–Ω—ã
- ‚úÖ CSRF –∑–∞—â–∏—Ç–∞
- ‚úÖ Rate limiting
- ‚úÖ XSS –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ Security scanning –≤ CI/CD

### Code Quality: 5/10 ‚Üí 8/10
- ‚úÖ God-class —Ä–∞–∑–±–∏—Ç
- ‚úÖ Exception handling –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- ‚úÖ –î–ª–∏–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω—ã
- ‚úÖ Hardcoded –∑–Ω–∞—á–µ–Ω–∏—è –≤—ã–Ω–µ—Å–µ–Ω—ã

### Architecture: 6/10 ‚Üí 8/10
- ‚úÖ –¶–∏—Ä–∫—É–ª—è—Ä–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã
- ‚úÖ Repositories —Ä–∞–∑–±–∏—Ç—ã
- ‚úÖ –ß–∏—Å—Ç–∞—è layer separation

### Testing: 7/10 ‚Üí 9/10
- ‚úÖ Coverage 85% ‚Üí 90%
- ‚úÖ Integration tests –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ Failing tests –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

### Performance: 6/10 ‚Üí 8/10
- ‚úÖ Connection pool –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ N+1 queries –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

---

## –û—Ü–µ–Ω–∫–∞ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç

### –ü–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:
- **XS:** 2 –∑–∞–¥–∞—á–∏ √ó 1 —á–∞—Å = 2 —á–∞—Å–∞
- **S:** 4 –∑–∞–¥–∞—á–∏ √ó 4 —á–∞—Å–∞ = 16 —á–∞—Å–æ–≤ (2 –¥–Ω—è)
- **M:** 9 –∑–∞–¥–∞—á √ó 2 –¥–Ω—è = 18 –¥–Ω–µ–π
- **L:** 7 –∑–∞–¥–∞—á √ó 4 –¥–Ω—è = 28 –¥–Ω–µ–π
- **XL:** 5 –∑–∞–¥–∞—á √ó 6 –¥–Ω–µ–π = 30 –¥–Ω–µ–π

**–ò—Ç–æ–≥–æ:** ~78 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã = **~16 –Ω–µ–¥–µ–ª—å** –¥–ª—è 1 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

**–° –∫–æ–º–∞–Ω–¥–æ–π –∏–∑ 2-3 —á–µ–ª–æ–≤–µ–∫:** ~6-8 –Ω–µ–¥–µ–ª—å (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ)

---

## –†–∏—Å–∫–∏

### –í—ã—Å–æ–∫–∏–µ —Ä–∏—Å–∫–∏:
1. **ARCH-001** (services.py) - –±–æ–ª—å—à–æ–π scope, –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å –º–Ω–æ–≥–æ –∫–æ–¥–∞
2. **ARCH-003** (—Ü–∏—Ä–∫—É–ª—è—Ä–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏) - —Å–ª–æ–∂–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –∑–∞–¥–∞—á–∞
3. **SEC-001** - –µ—Å–ª–∏ –Ω–µ —Å–¥–µ–ª–∞—Ç—å —Å–µ–≥–æ–¥–Ω—è, credentials –º–æ–≥—É—Ç –±—ã—Ç—å —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω—ã

### –°—Ä–µ–¥–Ω–∏–µ —Ä–∏—Å–∫–∏:
1. **BUG-001** - –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã –ë–î
2. **TEST-001** - –º–æ–∂–µ—Ç –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –Ω–æ–≤—ã–µ –±–∞–≥–∏
3. Migration complexity –¥–ª—è PostgreSQL

### –ù–∏–∑–∫–∏–µ —Ä–∏—Å–∫–∏:
- –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –¥—Ä—É–≥–∏—Ö –∑–∞–¥–∞—á –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (—Å–µ–≥–æ–¥–Ω—è):
1. ‚úÖ –í—ã–ø–æ–ª–Ω–∏—Ç—å Sprint 0 (SEC-001, SEC-002, SEC-003)
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å GitHub Issues –∏–∑ —ç—Ç–æ–≥–æ backlog
3. ‚úÖ –ù–∞–∑–Ω–∞—á–∏—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö
4. ‚úÖ Setup staging environment

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (–Ω–µ–¥–µ–ª—è 1):
1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å critical bugs (BUG-001, BUG-002)
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å CSRF –∏ Rate Limiting
3. ‚úÖ Code review process –¥–ª—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (2 –º–µ—Å—è—Ü–∞):
1. ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
2. ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ test coverage
3. ‚úÖ Security hardening
4. ‚úÖ Performance optimization

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –î–ª—è —Ä–∞–±–æ—Ç—ã —Å backlog:
```bash
# –°–æ–∑–¥–∞—Ç—å GitHub issues –∏–∑ BACKLOG.md
gh issue create --title "SEC-001: –†–æ—Ç–∞—Ü–∏—è credentials" --body "–°–º. BACKLOG.md" --label "security,P0"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å security
bandit -r backend/
safety check

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã —Å coverage
pytest --cov=backend --cov-report=html --cov-fail-under=85

# –ù–∞–π—Ç–∏ –≤—Å–µ except Exception
grep -rn "except Exception" backend/

# –ù–∞–π—Ç–∏ –≤—Å–µ hardcoded URLs
grep -rn "https://" backend/ | grep -v ".py:"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤
find backend -name "*.py" -exec wc -l {} + | sort -n | tail -10
```

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ —Ä–µ—Å—É—Ä—Å—ã

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞—É–¥–∏—Ç–∞:** –°–º. AUDIT_TEST1.md –≤ docs/
- **–ü–æ–¥—Ä–æ–±–Ω—ã–π backlog:** –°–º. BACKLOG.md
- **Failing tests:** tests/audit_failing_tests/

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –í—ã–ø–æ–ª–Ω–∏—Ç–µ Sprint 0 (SEC-001, SEC-002, SEC-003) –°–ï–ì–û–î–ù–Ø!
