# Liquid Glass Design System

## 1. Токены

| Категория | Токен | Значение | Комментарий |
| --- | --- | --- | --- |
| Цвета | `--bg-base` | `244 246 250` | Базовый фон страницы, используется для body и крупных градиентов. |
|  | `--bg-elev-1` | `255 255 255 / 0.68` | Поднятая поверхность (карточки, hero). |
|  | `--bg-elev-2` | `255 255 255 / 0.4` | Вторичная поверхность / таблицы. |
|  | `--bg-elev-3` | `255 255 255 / 0.28` | Зебра в таблицах, разделители. |
|  | `--fg-primary` | `20 22 28` | Основной текст. |
|  | `--fg-secondary` | `20 22 28 / 0.65` | Подписи, вторичный текст. |
|  | `--fg-muted` | `20 22 28 / 0.45` | Подсказки и хинты. |
|  | `--accent` | `88 140 255` | Акцентные действия и фокус. |
|  | `--success` | `40 180 120` | Позитивные статусы. |
|  | `--warning` | `235 170 60` | Предупреждения. |
|  | `--danger` | `234 84 84` | Ошибки, destructive. |
| Границы | `--border` | `255 255 255 / 0.42` | Светящийся кант стекла. |
|  | `--stroke` | `15 23 42 / 0.08` | Разделители и сетка. |
| Тени | `--shadow-color` | `15 23 42 / 0.12` | Мягкая тень карточек. |
|  | `--shadow-strong` | `15 23 42 / 0.22` | Тени модалок/hero. |
| Типографика | `--font-sans` | SF/Inter stack | Системный шрифт Apple-like. |
| Радиусы | `--radius` | `16px` | Базовый радиус. |
|  | `--radius-lg` | `24px` | Карточки. |
|  | `--radius-xl` | `32px` | Модальные окна. |
| Размытие | `--blur` | `18px` | Интенсивность стекла. |
| Прочее | `--surface-noise` | SVG noise | Ненавязчивое зерно. |

Темная тема использует зеркальные токены и увеличенный blur.

## 2. Tailwind пресеты

`tailwind.config.js` прокидывает токены в `colors.bg`, `colors.fg`, `borderRadius`, `boxShadow`, `backdropBlur` и вводит анимации `glass-in` и `shimmer`. Это позволяет использовать классы вида `bg-bg-base`, `text-fg-secondary`, `shadow-glass` и `backdrop-blur-glass` прямо в шаблонах.

## 3. Компоненты

### 3.1 Карточки (`.glass-card`)
- Градиент `bg-elev-1 → bg-elev-2`, `backdrop-filter: blur(var(--blur))`, стеклянный блик через псевдоэлементы.
- Паттерн `card-surface` для вложенных секций.

### 3.2 Навигация
- Topbar: sticky, стеклянный градиент, адаптивное меню с раскрытием на мобильных, светящаяся плашка активного пункта.
- Burger управляет `data-open`, скрим на мобайле.

### 3.3 Таблицы (`.list-table`)
- Полупрозрачные строки, зебра `bg-elev-3`, hover с подсветкой акцентом.
- Заголовки прилипающие, uppercase microcopy.

### 3.4 Формы
- Подключён `@tailwindcss/forms`, поля с мягким стеклянным фоном и акцентным фокусом.
- Sticky footer для действий, секции форм оформлены через `card-surface`.

### 3.5 Кнопки
- `btn-primary` — градиент `accent → accent-soft`, тень `0 18px 32px`.
- `btn-ghost`/`btn-soft` — прозрачный слой с подсветкой при hover, поддержка модификаторов `btn--sm`, `btn--block`, `btn--danger`.

### 3.6 Модалки и тосты
- Используют стеклянный градиент, анимацию `glass-in`, тёмный backdrop `backdrop-blur`.

### 3.7 Паттерны списков
- `list-toolbar` — стеклянная панель, sticky, унифицированные фильтры и chips.
- `slot-summary` и метрики используют `glass-card` + компактную типографику.

## 4. Поведение темы

- Скрипт в `base.html` сохраняет выбор в `localStorage` и переключает `data-theme`.
- Токены автоматически перестраивают фон, границы, шум.
- Tailwind `darkMode: ['class', '[data-theme="dark"]']` синхронизирует утилиты.

## 5. Использование

1. Подключить `tokens.css` и сгенерированный `globals.css` (build через `npm run build:css`).
2. Для новых экранов использовать утилиты `shadow-glass`, `bg-bg-elevX`, `text-fg-*`.
3. Документировать паттерн в Storybook (рекомендуется) или через сниппеты из шаблонов.
4. Для мобильных — ограничить blur через `@media (max-width: 768px)` (см. `globals.css`).

## 6. Дальнейшие шаги

- Вынести модалки/тосты в Storybook.
- Добавить вариации карточек статуса и skeleton-loading.
- Настроить визуальные тесты (Percy/Playwright) для регресса Liquid Glass.
