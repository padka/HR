# Риски и долги

1. **Двойная загрузка CSS** — в `templates/base.html` подключаются `css/tokens.css`, `build/main.css`, `css/ui.css`, что даёт конфликт переменных и дублирование Tailwind-классов.
2. **Inline-скрипты** — `base.html` содержит блоки JS для темы и topbar; `slots_list.html` включает крупный `<script>` со sheet/filters. Это мешает CSP и затрудняет тестирование.
3. **TemplateNotFound / ошибки шаблонов** — маршруты `/questions/{id}/edit` и `/templates/{id}` чувствительны к названиям файлов; отсутствует fallback при отсутствии шаблона (фикс см. `docs/issues/002-template-not-found.md`).
4. **Нет manifest-helper** — ассеты подключаются напрямую через `/static/...`, что ломает версии при CDN/префиксах.
5. **Фокус-трап и a11y** — модалки и sheets управляются vanilla JS без trap/aria, легко получить скрытые элементы в таб-цикле.
6. **Prefers-reduced-motion** — анимации (классы `glass-in`, shimmer) не уважают медиа-запрос, может вызвать дискомфорт пользователей.
7. **Toast/UI-core дублируется** — несколько шаблонов реализуют уведомления по-своему, отсутствует единый API.
8. **Статические пути** — жёсткие ссылки `/static/js/modules/...` в шаблонах ломаются при под-доменах или reverse proxy.
9. **Нет автоматизированных E2E** — Playwright не настроен, сложно поймать регрессии фильтров/таблиц.
10. **Часовые пояса** — расчёты календаря (`dashboard_calendar.py`) не учитывают `candidate_tz`, возможны ошибки в напоминаниях.
