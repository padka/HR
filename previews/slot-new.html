<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>–ù–æ–≤—ã–π —Å–ª–æ—Ç ¬∑ TG Bot Admin</title>
  <link rel="icon" href="/static/favicon.ico">
  <script>
    (function () {
      const storageKey = 'tg-admin-theme';
      try {
        const stored = window.localStorage.getItem(storageKey);
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const theme = stored || (prefersDark ? 'dark' : 'light');
        document.documentElement.dataset.theme = theme;
        document.documentElement.style.colorScheme = theme;
      } catch (err) {
        document.documentElement.dataset.theme = 'light';
        document.documentElement.style.colorScheme = 'light';
      }
    })();
  </script>
  <link rel="stylesheet" href="/static/css/tokens.css">
  <link rel="stylesheet" href="/static/css/main.css">
  
</head>
<body>
  <div class="app-shell">
    <header class="topbar" data-topbar>
      <div class="topbar__content">
        <button class="topbar__burger" type="button" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é" aria-expanded="false" data-topbar-toggle>
          <span aria-hidden="true">‚ò∞</span>
        </button>
        <a class="topbar__brand" href="/">
          <span>TG</span>
          Bot Admin
        </a>
        <nav class="topbar__nav" data-topbar-nav aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
          <ul class="nav-links">
            <li class="nav-links__item">
              <a href="/" class="nav-link">–î–∞—à–±–æ—Ä–¥</a>
            </li>
            <li class="nav-links__item">
              <a href="/recruiters" class="nav-link">–†–µ–∫—Ä—É—Ç—ë—Ä—ã</a>
            </li>
            <li class="nav-links__item">
              <a href="/cities" class="nav-link">–ì–æ—Ä–æ–¥–∞</a>
            </li>
            <li class="nav-links__item">
              <a href="/slots" class="nav-link" aria-current="page">–°–ª–æ—Ç—ã</a>
            </li>
            <li class="nav-links__item">
              <a href="/candidates" class="nav-link">–ö–∞–Ω–¥–∏–¥–∞—Ç—ã</a>
            </li>
            <li class="nav-links__item">
              <a href="/templates" class="nav-link">–®–∞–±–ª–æ–Ω—ã</a>
            </li>
            <li class="nav-links__item">
              <a href="/questions" class="nav-link">–í–æ–ø—Ä–æ—Å—ã</a>
            </li>
          </ul>
        </nav>
        <div class="topbar__actions">
          <button id="theme-toggle" class="theme-toggle" type="button" aria-pressed="false" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
            <span class="theme-toggle__icon" aria-hidden="true">üåô</span>
            <span class="theme-toggle__label">–¢—ë–º–Ω–∞—è —Ç–µ–º–∞</span>
          </button>
          <span class="topbar__badge">demo.local</span>
        </div>
      </div>
    </header>
    <div class="topbar__scrim" data-topbar-scrim></div>
    <main class="app-main">
      <div class="container">
        
<section class="form-shell" id="slot-switcher" data-tilt>
  <header class="form-shell__header">
    <div class="form-shell__heading">
      <h1 class="form-shell__title">–°–æ–∑–¥–∞–Ω–∏–µ —Å–ª–æ—Ç–æ–≤</h1>
      <p class="form-shell__description">–õ–æ–∫–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Ä–µ–∫—Ä—É—Ç—ë—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ UTC.</p>
    </div>
    <div class="form-meta">
  
      <span class="chip" id="now_chip" title="–¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –ø–æ—è—Å–µ">‚è±Ô∏è <span id="now_text">‚Äî:‚Äî</span></span>
    
</div>
  </header>
  <div class="form-shell__body">
    <div class="form-meta" role="tablist" aria-label="–†–µ–∂–∏–º —Å–æ–∑–¥–∞–Ω–∏—è">
  
      <div class="segmented">
        <button id="tab-one" class="active" type="button" role="tab" aria-selected="true" aria-controls="panel-one">–û–¥–∏–Ω —Å–ª–æ—Ç</button>
        <button id="tab-bulk" type="button" role="tab" aria-selected="false" aria-controls="panel-bulk">–°–µ—Ä–∏—è</button>
      </div>
      <p class="form-note form-note--inline">
  –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏: <span class="kbd">/</span> ‚Äî —Ñ–æ–∫—É—Å –Ω–∞ –¥–∞—Ç–µ, <span class="kbd">‚åò/Ctrl+Enter</span> ‚Äî —Å–æ–∑–¥–∞—Ç—å.
</p>
    
</div>
  </div>
</section>





  <section class="form-shell glass-card" id="panel-one">
  <header class="form-shell__header">
    
    <div class="form-shell__heading">
      <h1 class="form-shell__title">–û–¥–∏–Ω —Å–ª–æ—Ç</h1>
      <p class="form-shell__description">–£–∫–∞–∂–∏—Ç–µ —Ä–µ–∫—Ä—É—Ç—ë—Ä–∞, –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è ‚Äî –ø–æ–∫–∞–∂–µ–º UTC.</p>
    </div>
    
  </header>
  <form class="form-shell__form " id="form-one" action="/slots/create" method="post" autocomplete="off">
    <div class="form-shell__body">
      
    <section class="form-shell__section">
  <div class="form-shell__section-header">
    <h2 class="form-shell__section-title">–†–µ–∫—Ä—É—Ç—ë—Ä</h2>
    
  </div>
  <div class="form-shell__section-content">
    
      <label class="form-field">
  <span class="form-field__label">–†–µ–∫—Ä—É—Ç—ë—Ä</span>
  <div class="form-field__surface">
    
        <select id="recruiter_id" name="recruiter_id" required>
          <option value="" disabled selected>‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∫—Ä—É—Ç—ë—Ä–∞ ‚Äî</option>
          
            
            
            
            <option value="10"
                    data-tz="Europe/Moscow"
                    data-tz-label="UTC+03:00 (Europe/Moscow)"
                    data-hascities="1">–ê–ª–µ–∫—Å–µ–π –ó–∞—Ö–∞—Ä–æ–≤ (UTC+03:00 (Europe/Moscow))</option>
          
            
            
            
            <option value="11"
                    data-tz="Europe/Samara"
                    data-tz-label="UTC+04:00 (Europe/Samara)"
                    data-hascities="1">–ú–∞—Ä–∏—è –û—Ä–ª–æ–≤–∞ (UTC+04:00 (Europe/Samara))</option>
          
        </select>
      
  </div>
  <span class="form-field__hint">–í—ã–±–µ—Ä–∏—Ç–µ, –¥–ª—è –∫–æ–≥–æ —Å–æ–∑–¥–∞—ë–º —Å–ª–æ—Ç</span>
</label>
      <label class="form-field">
  <span class="form-field__label">–ì–æ—Ä–æ–¥</span>
  <div class="form-field__surface">
    
        <select id="city_id" name="city_id" required disabled>
          <option value="" disabled selected>‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥ ‚Äî</option>
          
            
            
              
              <option value=""
                      data-rec="10"
                      data-tz="Europe/Moscow"
                      data-tz-label="UTC+03:00 (Europe/Moscow)"> (Europe/Moscow)</option>
            
              
              <option value=""
                      data-rec="10"
                      data-tz="Europe/Moscow"
                      data-tz-label="UTC+03:00 (Europe/Moscow)"> (Europe/Moscow)</option>
            
          
            
            
              
              <option value=""
                      data-rec="11"
                      data-tz="Europe/Moscow"
                      data-tz-label="UTC+03:00 (Europe/Moscow)"> (Europe/Moscow)</option>
            
          
        </select>
        <p class="form-note" id="city_hint_one">–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∫—Ä—É—Ç—ë—Ä–∞.</p>
      
  </div>
  <span class="form-field__hint">–°–ª–æ—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞</span>
</label>
      <div class="form-meta">
  
        <p class="form-note form-note--inline" id="tz_one_hint">
  –†–µ–≥–∏–æ–Ω: ‚Äî
</p>
        <span class="chip" id="offset_chip" title="–°–º–µ—â–µ–Ω–∏–µ –æ—Ç UTC">GMT <span id="offset_text">¬±0</span></span>
      
</div>
    
  </div>
</section>

    <section class="form-shell__section">
  <div class="form-shell__section-header">
    <h2 class="form-shell__section-title">–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</h2>
    
  </div>
  <div class="form-shell__section-content">
    
      <div class="form-grid form-grid--two">
        <label class="form-field">
  <span class="form-field__label">–î–∞—Ç–∞ (–ª–æ–∫–∞–ª—å–Ω–∞—è)</span>
  <div class="form-field__surface">
    
          <input id="date" type="date" name="date" required>
          <div class="btn-group">
            <button class="btn btn--ghost btn--sm" type="button" data-quick="today">–°–µ–≥–æ–¥–Ω—è</button>
            <button class="btn btn--ghost btn--sm" type="button" data-quick="tomorrow">–ó–∞–≤—Ç—Ä–∞</button>
          </div>
        
  </div>
  
</label>
        <label class="form-field">
  <span class="form-field__label">–í—Ä–µ–º—è (–ª–æ–∫–∞–ª—å–Ω–æ–µ)</span>
  <div class="form-field__surface">
    
          <input id="time" type="time" name="time" required>
          <div class="btn-group">
            <button class="btn btn--ghost btn--sm" type="button" data-time="next30">+30 –º–∏–Ω</button>
            <button class="btn btn--ghost btn--sm" type="button" data-time="next60">+1 —á–∞—Å</button>
            <button class="btn btn--ghost btn--sm" type="button" data-time="13:00">13:00</button>
            <button class="btn btn--ghost btn--sm" type="button" data-time="15:00">15:00</button>
          </div>
          <p class="form-note" id="time_hint_one">–í—Ä–µ–º—è —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ä–µ–≥–∏–æ–Ω—É: ‚Äî</p>
        
  </div>
  
</label>
      </div>
    
  </div>
</section>

    <input type="hidden" name="starts_at_local" id="starts_at_local_one" value="">

    <div class="preview-panel" id="preview-one" aria-live="polite">
      <b>–ü—Ä–µ–≤—å—é</b><br>
      –£–∫–∞–∂–∏—Ç–µ —Ä–µ–∫—Ä—É—Ç—ë—Ä–∞, –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è ‚Äî –ø–æ–∫–∞–∂–µ–º UTC.
    </div>
  
    </div>
    
      <footer class="form-shell__footer">
        <div class="form-shell__actions">
          
            
            
              <button type="submit" class="btn btn--primary" id="btn-create-one" value="" disabled>–°–æ–∑–¥–∞—Ç—å</button>
            
          
            
            
              <a href="/slots" class="btn btn--ghost">–û—Ç–º–µ–Ω–∞</a>
            
          
        </div>
      </footer>
    
  </form>
</section>

  <section class="form-shell glass-card" id="panel-bulk" hidden>
  <header class="form-shell__header">
    
    <div class="form-shell__heading">
      <h1 class="form-shell__title">–°–µ—Ä–∏—è —Å–ª–æ—Ç–æ–≤</h1>
      <p class="form-shell__description">–°–æ–∑–¥–∞—Å—Ç —Å–ª–æ—Ç—ã –∫–∞–∂–¥—ã–π –±—É–¥–Ω–∏–π –¥–µ–Ω—å —Å 10:00 –¥–æ 16:00, –ø–µ—Ä–µ—Ä—ã–≤ 12:00‚Äì13:00, —à–∞–≥ 30 –º–∏–Ω—É—Ç. –î—É–±–ª–∏–∫–∞—Ç—ã –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è.</p>
    </div>
    
  </header>
  <form class="form-shell__form " id="form-bulk" action="/slots/bulk_create" method="post" autocomplete="off">
    <div class="form-shell__body">
      
    <section class="form-shell__section">
  <div class="form-shell__section-header">
    <h2 class="form-shell__section-title">–†–µ–∫—Ä—É—Ç—ë—Ä</h2>
    
  </div>
  <div class="form-shell__section-content">
    
      <label class="form-field">
  <span class="form-field__label">–†–µ–∫—Ä—É—Ç—ë—Ä</span>
  <div class="form-field__surface">
    
        <select id="recruiter_id_bulk" name="recruiter_id" required>
          <option value="" disabled selected>‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∫—Ä—É—Ç—ë—Ä–∞ ‚Äî</option>
          
            
            
            
            <option value="10"
                    data-tz="Europe/Moscow"
                    data-tz-label="UTC+03:00 (Europe/Moscow)"
                    data-hascities="1">–ê–ª–µ–∫—Å–µ–π –ó–∞—Ö–∞—Ä–æ–≤ (UTC+03:00 (Europe/Moscow))</option>
          
            
            
            
            <option value="11"
                    data-tz="Europe/Samara"
                    data-tz-label="UTC+04:00 (Europe/Samara)"
                    data-hascities="1">–ú–∞—Ä–∏—è –û—Ä–ª–æ–≤–∞ (UTC+04:00 (Europe/Samara))</option>
          
        </select>
      
  </div>
  <span class="form-field__hint">–°–ª–æ—Ç—ã –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –≤ –µ–≥–æ —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ</span>
</label>
      <label class="form-field">
  <span class="form-field__label">–ì–æ—Ä–æ–¥</span>
  <div class="form-field__surface">
    
        <select id="city_id_bulk" name="city_id" required disabled>
          <option value="" disabled selected>‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥ ‚Äî</option>
          
            
            
              
              <option value=""
                      data-rec="10"
                      data-tz="Europe/Moscow"
                      data-tz-label="UTC+03:00 (Europe/Moscow)"> (Europe/Moscow)</option>
            
              
              <option value=""
                      data-rec="10"
                      data-tz="Europe/Moscow"
                      data-tz-label="UTC+03:00 (Europe/Moscow)"> (Europe/Moscow)</option>
            
          
            
            
              
              <option value=""
                      data-rec="11"
                      data-tz="Europe/Moscow"
                      data-tz-label="UTC+03:00 (Europe/Moscow)"> (Europe/Moscow)</option>
            
          
        </select>
        <p class="form-note" id="city_hint_bulk">–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∫—Ä—É—Ç—ë—Ä–∞.</p>
      
  </div>
  <span class="form-field__hint">–°–ª–æ—Ç—ã –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞</span>
</label>
      <p class="form-note" id="tz_bulk_hint">
  –†–µ–≥–∏–æ–Ω: ‚Äî
</p>
    
  </div>
</section>

    <section class="form-shell__section">
  <div class="form-shell__section-header">
    <h2 class="form-shell__section-title">–ü–µ—Ä–∏–æ–¥</h2>
    
  </div>
  <div class="form-shell__section-content">
    
      <div class="form-grid form-grid--two">
        <label class="form-field">
  <span class="form-field__label">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞</span>
  <div class="form-field__surface">
    
          <input id="start_date" type="date" name="start_date" required>
        
  </div>
  
</label>
        <label class="form-field">
  <span class="form-field__label">–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è</span>
  <div class="form-field__surface">
    
          <input id="end_date" type="date" name="end_date" required>
        
  </div>
  
</label>
      </div>
      <div class="form-meta">
  
        <label class="form-switch form-switch--inline">
  <input type="checkbox" value="1" id="include_weekends" name="include_weekends">
  <span class="form-switch__track" aria-hidden="true">
    <span class="form-switch__thumb"></span>
  </span>
  
    <span class="form-switch__label">–í–∫–ª—é—á–∞—Ç—å –≤—ã—Ö–æ–¥–Ω—ã–µ</span>
  
  
</label>
        <label class="form-switch form-switch--inline">
  <input type="checkbox" value="1" id="use_break" name="use_break" checked>
  <span class="form-switch__track" aria-hidden="true">
    <span class="form-switch__thumb"></span>
  </span>
  
    <span class="form-switch__label">–£—á–∏—Ç—ã–≤–∞—Ç—å –ø–µ—Ä–µ—Ä—ã–≤ 12:00‚Äì13:00</span>
  
  
</label>
      
</div>
    
  </div>
</section>

    <input type="hidden" name="start_time" id="bulk_start_time" value="10:00">
    <input type="hidden" name="end_time"   id="bulk_end_time"   value="16:00">
    <input type="hidden" name="break_start" id="bulk_break_start" value="12:00">
    <input type="hidden" name="break_end"   id="bulk_break_end"   value="13:00">
    <input type="hidden" name="step_min"    id="bulk_step"        value="30">

    <details class="form-advanced mt-md">
      <summary class="hint">–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</summary>
      <div class="form-grid form-grid--two mt-sm">
        <label class="form-field">
  <span class="form-field__label">–û–∫–Ω–æ (—Å)</span>
  <div class="form-field__surface">
    
          <input type="time" id="adv_start_time" value="10:00">
        
  </div>
  
</label>
        <label class="form-field">
  <span class="form-field__label">–û–∫–Ω–æ (–¥–æ)</span>
  <div class="form-field__surface">
    
          <input type="time" id="adv_end_time" value="16:00">
        
  </div>
  
</label>
      </div>
      <div class="form-grid form-grid--two mt-sm">
        <label class="form-field">
  <span class="form-field__label">–ü–µ—Ä–µ—Ä—ã–≤ (—Å)</span>
  <div class="form-field__surface">
    
          <input type="time" id="adv_break_start" value="12:00" disabled>
        
  </div>
  
</label>
        <label class="form-field">
  <span class="form-field__label">–ü–µ—Ä–µ—Ä—ã–≤ (–¥–æ)</span>
  <div class="form-field__surface">
    
          <input type="time" id="adv_break_end" value="13:00" disabled>
        
  </div>
  
</label>
      </div>
      <label class="form-field">
  <span class="form-field__label">–®–∞–≥ (–º–∏–Ω)</span>
  <div class="form-field__surface">
    
        <input type="number" id="adv_step" min="5" step="5" value="30">
      
  </div>
  
</label>
      <p class="form-note">
  –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ä–∞–∑—É –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–π —Å–µ—Ä–∏–∏.
</p>
    </details>

    <div class="preview-panel" id="preview-bulk" aria-live="polite">
      <b>–ü—Ä–µ–≤—å—é</b><br>
      –í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–∏–æ–¥ ‚Äî –ø–æ—Å—á–∏—Ç–∞–µ–º –ø—Ä–∏–º–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ –±—É–¥–Ω–∏).
    </div>
  
    </div>
    
      <footer class="form-shell__footer">
        <div class="form-shell__actions">
          
            
            
              <button type="submit" class="btn btn--primary" id="btn-create-bulk" value="" disabled>–°–æ–∑–¥–∞—Ç—å —Å–ª–æ—Ç—ã –ø–∞–∫–µ—Ç–æ–º</button>
            
          
            
            
              <a href="/slots" class="btn btn--ghost">–û—Ç–º–µ–Ω–∞</a>
            
          
        </div>
      </footer>
    
  </form>
</section>



<script>
(function(){
  const $ = (s, r=document)=>r.querySelector(s);
  const $$= (s, r=document)=>Array.from(r.querySelectorAll(s));

  const LS = {
    tab: 'slots_new.tab',
    recOne: 'slots_new.recOne',
    recBulk: 'slots_new.recBulk',
    cityOne: 'slots_new.cityOne',
    cityBulk: 'slots_new.cityBulk',
    date: 'slots_new.date',
    time: 'slots_new.time'
  };

  const storage = (()=>{
    try { return window.localStorage; }
    catch { return null; }
  })();
  const storageGet = (key)=>{
    if (!storage) return null;
    try { return storage.getItem(key); }
    catch { return null; }
  };
  const storageSet = (key, value)=>{
    if (!storage) return;
    try { storage.setItem(key, value); }
    catch { /* ignore */ }
  };

  const tabOne = $('#tab-one'), tabBulk = $('#tab-bulk');
  const panelOne = $('#panel-one'), panelBulk = $('#panel-bulk');

  function activate(tab){
    if (!tabOne || !tabBulk || !panelOne || !panelBulk) return;
    if (tab === 'one'){
      tabOne.classList.add('active'); tabOne.setAttribute('aria-selected','true');
      tabBulk.classList.remove('active'); tabBulk.setAttribute('aria-selected','false');
      panelOne.hidden = false; panelBulk.hidden = true;
      storageSet(LS.tab, 'one');
    } else {
      tabBulk.classList.add('active'); tabBulk.setAttribute('aria-selected','true');
      tabOne.classList.remove('active'); tabOne.setAttribute('aria-selected','false');
      panelBulk.hidden = false; panelOne.hidden = true;
      storageSet(LS.tab, 'bulk');
    }
  }
  tabOne?.addEventListener('click', ()=>activate('one'));
  tabBulk?.addEventListener('click', ()=>activate('bulk'));
  activate(storageGet(LS.tab) || 'one');

  const fmt2 = (n)=> String(n).padStart(2,'0');
  const browserTZ = (()=>{
    try { return Intl.DateTimeFormat().resolvedOptions().timeZone || null; }
    catch { return null; }
  })();
  function parseISODate(s){ try{ return s ? new Date(s+'T00:00:00') : null; }catch{ return null; } }
  function parseTime(s){ if(!s) return null; const [h,m] = s.split(':').map(x=>parseInt(x,10)); if(isNaN(h)||isNaN(m)) return null; return {h,m}; }

  function offsetParts(tz, d){
    try {
      const parts = new Intl.DateTimeFormat('en-US', {
        timeZone: tz,
        hour: '2-digit',
        minute: '2-digit',
        timeZoneName: 'shortOffset'
      }).formatToParts(d);
      const name = parts.find((p)=>p.type==='timeZoneName');
      const raw = (name ? name.value : '').replace('GMT','').replace('UTC','').trim();
      if (!raw) return { minutes: 0, label: '¬±0' };
      const match = raw.match(/^([+-])(\d{1,2})(?::?(\d{2}))?$/);
      if (!match) return { minutes: 0, label: '¬±0' };
      const sign = match[1] === '-' ? -1 : 1;
      const hours = parseInt(match[2], 10);
      const minutes = match[3] ? parseInt(match[3], 10) : 0;
      const total = sign * (hours * 60 + minutes);
      const label = total === 0
        ? '¬±0'
        : `${sign === 1 ? '+' : '-'}${String(hours).padStart(2,'0')}${minutes ? ':' + String(minutes).padStart(2,'0') : ''}`;
      return { minutes: total, label };
    } catch {
      return { minutes: 0, label: '¬±0' };
    }
  }

  function getOffsetLabel(tz, d){
    return offsetParts(tz, d).label;
  }

  function toUTCInfo(localISO, tz){
    if (!localISO) return null;
    const [datePart, timePart] = localISO.split('T');
    if (!datePart || !timePart) return null;
    const [year, month, day] = datePart.split('-').map((n)=>parseInt(n, 10));
    const [hour, minute, second='00'] = timePart.split(':');
    const sec = parseInt(second, 10) || 0;
    if (Number.isNaN(year) || Number.isNaN(month) || Number.isNaN(day)) return null;
    const hNum = parseInt(hour, 10);
    const mNum = parseInt(minute, 10);
    if (Number.isNaN(hNum) || Number.isNaN(mNum)) return null;
    const base = Date.UTC(year, month - 1, day, hNum, mNum, sec);
    const { minutes: offsetMinutes, label: offsetLabel } = offsetParts(tz, new Date(base));
    const utcMillis = base - offsetMinutes * 60000;
    return {
      utc: new Date(utcMillis),
      offsetMinutes,
      offsetLabel,
    };
  }

  function formatInZone(date, tz){
    if (!date) return '‚Äî';
    try {
      return new Intl.DateTimeFormat('ru-RU', {
        timeZone: tz,
        day: '2-digit',
        month: '2-digit',
        hour: '2-digit',
        minute: '2-digit'
      }).format(date);
    } catch {
      if (tz === 'UTC'){
        return `${fmt2(date.getUTCDate())}.${fmt2(date.getUTCMonth()+1)} ${fmt2(date.getUTCHours())}:${fmt2(date.getUTCMinutes())}`;
      }
      return `${fmt2(date.getDate())}.${fmt2(date.getMonth()+1)} ${fmt2(date.getHours())}:${fmt2(date.getMinutes())}`;
    }
  }

  function tzNowText(tz){
    try{
      const d = new Date();
      const f = new Intl.DateTimeFormat('ru-RU', { timeZone: tz, hour:'2-digit', minute:'2-digit', day:'2-digit', month:'2-digit' });
      return f.format(d);
    }catch{ return '‚Äî:‚Äî'; }
  }

  function toISOZ(d){ if(!d) return ''; const s = d.toISOString(); return s.replace('.000',''); }

  const selOne = $('#recruiter_id');
  const cityOne = $('#city_id');
  const cityHintOne = $('#city_hint_one');
  const dateOne= $('#date');
  const timeOne= $('#time');
  const tzOne  = $('#tz_one_hint');
  const prevOne= $('#preview-one');
  const btnOne = $('#btn-create-one');
  const offsetText = $('#offset_text');
  const timeHintOne = $('#time_hint_one');
  const startsAtLocalOne = $('#starts_at_local_one');

  function selectedOption(selectEl){
    if (!selectEl) return null;
    const opt = selectEl.selectedOptions[0];
    if (!opt || opt.disabled || opt.hidden) return null;
    return opt;
  }

  function optionTZ(opt){
    if (!opt) return null;
    const tz = (opt.getAttribute('data-tz') || '').trim();
    return tz || null;
  }

  function currentRegionTZ(selectEl){
    const opt = selectedOption(selectEl || cityOne);
    return optionTZ(opt) || 'Europe/Moscow';
  }

  function currentRegionLabel(selectEl){
    const opt = selectedOption(selectEl || cityOne);
    if (!opt) return '‚Äî';
    const raw = (opt.getAttribute('data-tz-label') || opt.textContent || '').trim();
    if (raw) return raw;
    const tz = optionTZ(opt);
    if (tz){
      return `${tz} (UTC${getOffsetLabel(tz, new Date())})`;
    }
    return '‚Äî';
  }

  const nowChip = $('#now_text');
  const nowChipWrap = $('#now_chip');
  function updateNowChip(){
    const selector = cityOne || $('#city_id');
    const hasSelection = !!selectedOption(selector);
    const tz = hasSelection ? currentRegionTZ(selector) : null;
    nowChip.textContent = tz ? tzNowText(tz) : '‚Äî:‚Äî';
    if (nowChipWrap){
      nowChipWrap.title = hasSelection ? currentRegionLabel(selector) : '–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω';
    }
  }

  function updateCityOptions(recSelect, citySelect, hintEl){
    if (!citySelect) return false;
    const recId = recSelect?.value || '';
    const options = Array.from(citySelect.querySelectorAll('option[data-rec]'));
    let hasMatches = false;
    options.forEach(opt => {
      const match = recId && opt.getAttribute('data-rec') === recId;
      opt.hidden = !match;
      opt.disabled = !match;
      if (!match && opt.selected) opt.selected = false;
      if (match) hasMatches = true;
    });

    if (!recId){
      citySelect.value = '';
      citySelect.disabled = true;
      if (hintEl) hintEl.textContent = '–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∫—Ä—É—Ç—ë—Ä–∞.';
      return false;
    }

    if (!hasMatches){
      citySelect.value = '';
      citySelect.disabled = true;
      if (hintEl) hintEl.textContent = '–î–ª—è —Ä–µ–∫—Ä—É—Ç—ë—Ä–∞ –Ω–µ—Ç –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤.';
      return false;
    }

    if (hintEl) hintEl.textContent = '';
    citySelect.disabled = false;

    if (!options.some(opt => !opt.disabled && opt.value === citySelect.value)){
      const first = options.find(opt => !opt.disabled);
      if (first){
        first.selected = true;
        citySelect.value = first.value;
      }
    }
    return !!citySelect.value;
  }

  function snapToHalfHour(h, m){
    const minutes = h*60 + m;
    const snapped = Math.round(minutes / 30) * 30;
    return { h: Math.floor(snapped/60)%24, m: snapped%60 };
  }

  function updateOne(){
    const hasCities = updateCityOptions(selOne, cityOne, cityHintOne);
    const regionSelected = !!selectedOption(cityOne);
    const tz = regionSelected ? currentRegionTZ(cityOne) : 'Europe/Moscow';
    const tzLabel = regionSelected ? currentRegionLabel(cityOne) : '‚Äî';
    tzOne.textContent = `–†–µ–≥–∏–æ–Ω: ${tzLabel}`;
    if (timeHintOne){
      timeHintOne.textContent = `–í—Ä–µ–º—è —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ä–µ–≥–∏–æ–Ω—É: ${tzLabel}`;
    }
    offsetText.textContent = regionSelected ? getOffsetLabel(tz, new Date()) : '¬±0';
    updateNowChip();

    const d = dateOne.value, t = timeOne.value;
    const cityVal = cityOne ? cityOne.value : '';
    if (cityOne) storageSet(LS.cityOne, cityVal || '');
    const ready = !!(selOne.value && hasCities && regionSelected && d && t);
    btnOne.disabled = !ready;

    if (startsAtLocalOne){
      startsAtLocalOne.value = ready ? `${d}T${t}` : '';
    }

    if (!ready){
      prevOne.innerHTML = '<b>–ü—Ä–µ–≤—å—é</b><br>–£–∫–∞–∂–∏—Ç–µ —Ä–µ–∫—Ä—É—Ç—ë—Ä–∞, —Ä–µ–≥–∏–æ–Ω, –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è ‚Äî –ø–æ–∫–∞–∂–µ–º UTC.';
      return;
    }
    const localIso = `${d}T${t}:00`;
    const info = toUTCInfo(localIso, tz);
    offsetText.textContent = info ? info.offsetLabel : '¬±0';
    if (!info){
      prevOne.innerHTML = '<b>–ü—Ä–µ–≤—å—é</b><br>–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å UTC ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å.';
      return;
    }
    const utc = info.utc;

    let note = '';
    try {
      if (utc < new Date()) note = ` ¬∑ <span class="bad">–≤ –ø—Ä–æ—à–ª–æ–º</span>`;
      else note = ` ¬∑ <span class="ok">–≤ –±—É–¥—É—â–µ–º</span>`;
    } catch {}

    const isoZ = toISOZ(utc);
    const localText = formatInZone(utc, tz);
    const utcText = formatInZone(utc, 'UTC');
    const sameAsBrowser = !!(browserTZ && tz && browserTZ === tz);
    const displayUtcText = sameAsBrowser ? localText : utcText;
    const utcHint = sameAsBrowser
      ? `<br><span class="hint">UTC –ø–æ–∫–∞–∑–∞–Ω–æ –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è (—Å–º–µ—â–µ–Ω–∏–µ ${info.offsetLabel})</span>`
      : `<br><span class="hint">UTC: ${utcText}</span>`;
    prevOne.innerHTML =
      `<b>–ü—Ä–µ–≤—å—é</b><br>–õ–æ–∫–∞–ª—å–Ω–æ (${tzLabel}) <span class="hint">IANA: <code>${tz}</code></span>: <span>${localText}</span>${note}
       <br>UTC: <span class="ok">${displayUtcText}</span>
       <br><span class="hint">ISO (UTC): <code>${isoZ}</code></span>${utcHint}`;

    storageSet(LS.recOne, selOne.value || '');
    storageSet(LS.date, d);
    storageSet(LS.time, t);
  }

  $$('#form-one [data-quick]').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const now = new Date();
      if (btn.dataset.quick==='tomorrow') now.setDate(now.getDate()+1);
      dateOne.value = `${now.getFullYear()}-${fmt2(now.getMonth()+1)}-${fmt2(now.getDate())}`;
      updateOne();
    });
  });

  $$('#form-one [data-time]').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const kind = btn.getAttribute('data-time');
      const tz = currentRegionTZ(cityOne);
      let base = new Date(new Date().toLocaleString('en-US', { timeZone: tz }));
      if (dateOne.value){ base = new Date(`${dateOne.value}T${timeOne.value||'09:00'}:00`); }
      if (kind==='next30') base = new Date(base.getTime() + 30*60000);
      else if (kind==='next60') base = new Date(base.getTime() + 60*60000);
      else if (/^\d{2}:\d{2}$/.test(kind)){
        if (!dateOne.value){
          const now = new Date(new Date().toLocaleString('en-US', { timeZone: tz }));
          dateOne.value = `${now.getFullYear()}-${fmt2(now.getMonth()+1)}-${fmt2(now.getDate())}`;
        }
        timeOne.value = kind; updateOne(); return;
      }
      const hh = fmt2(base.getHours()), mm = fmt2(base.getMinutes());
      timeOne.value = `${hh}:${mm}`;
      if (!dateOne.value){
        dateOne.value = `${base.getFullYear()}-${fmt2(base.getMonth()+1)}-${fmt2(base.getDate())}`;
      }
      updateOne();
    });
  });

  timeOne?.addEventListener('blur', ()=>{
    const t = parseTime(timeOne.value); if(!t) return;
    const s = snapToHalfHour(t.h, t.m);
    timeOne.value = `${fmt2(s.h)}:${fmt2(s.m)}`;
  });

  selOne?.addEventListener('change', ()=>{
    storageSet(LS.recOne, selOne.value||'');
    updateCityOptions(selOne, cityOne, cityHintOne);
    updateOne();
  });
  dateOne?.addEventListener('input', updateOne);
  timeOne?.addEventListener('input', updateOne);
  cityOne?.addEventListener('change', ()=>{
    storageSet(LS.cityOne, cityOne.value||'');
    if (timeOne && timeOne.value){
      timeOne.value = '';
      storageSet(LS.time, '');
    }
    if (startsAtLocalOne){
      startsAtLocalOne.value = '';
    }
    updateOne();
  });

  (function restoreOne(){
    const r = storageGet(LS.recOne);
    if (r) selOne.value = r;
    updateCityOptions(selOne, cityOne, cityHintOne);
    const savedCity = storageGet(LS.cityOne);
    if (savedCity && cityOne){
      const match = cityOne.querySelector(`option[value="${savedCity}"][data-rec="${selOne.value}"]`);
      if (match && !match.disabled){
        cityOne.value = savedCity;
      }
    }
    const d = storageGet(LS.date);   if (d) dateOne.value = d;
    const t = storageGet(LS.time);   if (t) timeOne.value = t;
    updateOne();
  })();

  const selBulk = $('#recruiter_id_bulk');
  const cityBulk = $('#city_id_bulk');
  const cityHintBulk = $('#city_hint_bulk');
  const tzBulk  = $('#tz_bulk_hint');
  const sd = $('#start_date'), ed = $('#end_date');
  const prevBulk = $('#preview-bulk');
  const btnBulk = $('#btn-create-bulk');
  const includeWeekends = $('#include_weekends');
  const useBreak = $('#use_break');

  const adv = {
    start:  $('#adv_start_time'),
    end:    $('#adv_end_time'),
    bstart: $('#adv_break_start'),
    bend:   $('#adv_break_end'),
    step:   $('#adv_step')
  };
  const hid = {
    start:  $('#bulk_start_time'),
    end:    $('#bulk_end_time'),
    bstart: $('#bulk_break_start'),
    bend:   $('#bulk_break_end'),
    step:   $('#bulk_step')
  };
  Object.entries(adv).forEach(([k,el])=>{
    el?.addEventListener('input', ()=>{
      hid[k].value = el.value;
      updateBulk();
    });
  });

  includeWeekends?.addEventListener('change', updateBulk);
  useBreak?.addEventListener('change', ()=>{
    adv.bstart.disabled = adv.bend.disabled = !useBreak.checked;
    updateBulk();
  });

  function weekdaysBetween(a,b, includeWkd){
    let d = new Date(a), cnt = 0;
    while (d <= b){
      const w = d.getDay();
      if (includeWkd || (w>=1 && w<=5)) cnt++;
      d.setDate(d.getDate()+1);
    }
    return cnt;
  }
  function slotsPerDay(start,end,brs,bre,step, useBr){
    const st = parseTime(start), en = parseTime(end);
    if (!st||!en) return 0;
    const toMin = ({h,m})=>h*60+m;
    const rng = (a,b,step)=> Math.max(0, Math.floor((b-a)/step));
    if (!useBr){
      return rng(toMin(st), toMin(en), step);
    }
    const bs=parseTime(brs), be=parseTime(bre);
    if (!bs||!be) return 0;
    const before = rng(toMin(st), toMin(bs), step);
    const after  = rng(toMin(be), toMin(en), step);
    return before + after;
  }

  function dayTimes(start,end,brs,bre,step,useBr){
    const out=[]; const st=parseTime(start), en=parseTime(end);
    if(!st||!en) return out; const toMin=({h,m})=>h*60+m; const fromMin=(x)=>({h:Math.floor(x/60),m:x%60});
    const s=toMin(st), e=toMin(en), stepm=step;
    let cur=s;
    while(cur+stepm <= e){
      const {h,m}=fromMin(cur);
      if(!useBr || cur < toMin(parseTime(brs)) || cur >= toMin(parseTime(bre))) out.push(`${fmt2(h)}:${fmt2(m)}`);
      cur+=stepm;
    }
    return out;
  }

  function updateBulk(){
    const hasCities = updateCityOptions(selBulk, cityBulk, cityHintBulk);
    const hasRecruiter = !!selBulk?.value;
    const regionSelected = !!selectedOption(cityBulk);
    const tz = regionSelected ? currentRegionTZ(cityBulk) : 'Europe/Moscow';
    const tzLabel = regionSelected ? currentRegionLabel(cityBulk) : '‚Äî';
    tzBulk.textContent = `–†–µ–≥–∏–æ–Ω: ${tzLabel}`;

    const s = sd.value, e = ed.value;
    const cityVal = cityBulk ? cityBulk.value : '';
    if (cityBulk) storageSet(LS.cityBulk, cityVal || '');
    const ready = !!(selBulk.value && hasCities && regionSelected && s && e);
    btnBulk.disabled = !ready;

    const st = hid.start.value, en = hid.end.value, bs = hid.bstart.value, be = hid.bend.value, step = parseInt(hid.step.value||'30',10);

    if (!ready){
      prevBulk.innerHTML = `<b>–ü—Ä–µ–≤—å—é</b><br>–í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–∏–æ–¥ ‚Äî –ø–æ—Å—á–∏—Ç–∞–µ–º –ø—Ä–∏–º–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ –±—É–¥–Ω–∏).`;
      return;
    }
    const d0 = parseISODate(s), d1 = parseISODate(e);
    if (!d0 || !d1){ return; }
    const a = d0 < d1 ? d0 : d1, b = d0 < d1 ? d1 : d0;

    const wd = weekdaysBetween(a,b, !!includeWeekends.checked);
    const perDay = slotsPerDay(st,en,bs,be,step, !!useBreak.checked);
    const total = wd * perDay;

    const times = dayTimes(st,en,bs,be,step, !!useBreak.checked);
    const previewTimes = times.slice(0,6).join(', ') + (times.length>6 ? ` ‚Ä¶ –∏ –µ—â—ë ${times.length-6}` : '');
    const warn = total > 300 ? `<span class="warn">–í–Ω–∏–º–∞–Ω–∏–µ: ${total} —Å–ª–æ—Ç–æ–≤ ‚Äî –∫—Ä—É–ø–Ω–∞—è —Å–µ—Ä–∏—è.</span>` : '';

    prevBulk.innerHTML =
      `<b>–ü—Ä–µ–≤—å—é</b><br>–î–Ω–µ–π: <b>${wd}</b> (${includeWeekends.checked ? '–≤–∫–ª—é—á–∞—è –≤—ã—Ö–æ–¥–Ω—ã–µ' : '–±—É–¥–Ω–∏'}), —Å–ª–æ—Ç–æ–≤ –≤ –¥–µ–Ω—å: <b>${perDay}</b> (—à–∞–≥ ${step} –º–∏–Ω)
       <br>–ò—Ç–æ–≥–æ —Å–ª–æ—Ç–æ–≤: <b class="${total? 'ok':''}">${total}</b> ${warn ? '¬∑ ' + warn : ''}
       <br><span class="hint">–ü—Ä–∏–º–µ—Ä—ã –≤—Ä–µ–º–µ–Ω–∏ –≤ –¥–µ–Ω—å: ${previewTimes || '‚Äî'}</span>`;

    storageSet(LS.recBulk, selBulk.value||'');
  }

  selBulk?.addEventListener('change', ()=>{
    storageSet(LS.recBulk, selBulk.value||'');
    updateCityOptions(selBulk, cityBulk, cityHintBulk);
    updateBulk();
  });
  sd?.addEventListener('input', ()=>{ if(!ed.value) ed.value = sd.value; updateBulk(); });
  ed?.addEventListener('input', updateBulk);
  cityBulk?.addEventListener('change', ()=>{
    storageSet(LS.cityBulk, cityBulk.value||'');
    updateBulk();
  });

  (function restoreBulk(){
    const r = storageGet(LS.recBulk);
    if(r) selBulk.value = r;
    updateCityOptions(selBulk, cityBulk, cityHintBulk);
    const savedCity = storageGet(LS.cityBulk);
    if (savedCity && cityBulk){
      const match = cityBulk.querySelector(`option[value="${savedCity}"][data-rec="${selBulk.value}"]`);
      if (match && !match.disabled){
        cityBulk.value = savedCity;
      }
    }
    updateBulk();
  })();

  updateNowChip(); setInterval(updateNowChip, 60000);

  window.addEventListener('keydown', (e)=>{
    if ((e.metaKey || e.ctrlKey) && e.key.toLowerCase()==='enter'){
      const activeTab = storageGet(LS.tab) || 'one';
      const form = activeTab==='one' ? document.getElementById('form-one') : document.getElementById('form-bulk');
      if (form){ e.preventDefault(); form.requestSubmit(); }
    }
    if (e.key === '/' && !e.metaKey && !e.ctrlKey && !e.altKey){
      e.preventDefault(); (document.getElementById('date')||document.body).focus();
    }
  });
})();
</script>


      </div>
    </main>
  </div>
  <script>
    (function () {
      const storageKey = 'tg-admin-theme';
      const docEl = document.documentElement;
      const toggle = document.getElementById('theme-toggle');
      const nav = document.querySelector('[data-topbar-nav]');
      const burger = document.querySelector('[data-topbar-toggle]');
      const scrim = document.querySelector('[data-topbar-scrim]');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)');

      function storeTheme(theme) {
        try {
          window.localStorage.setItem(storageKey, theme);
        } catch (err) {
          /* noop */
        }
      }

      function getStoredTheme() {
        try {
          return window.localStorage.getItem(storageKey);
        } catch (err) {
          return null;
        }
      }

      function applyTheme(theme, persist = true) {
        const value = theme === 'dark' ? 'dark' : 'light';
        docEl.dataset.theme = value;
        docEl.style.colorScheme = value;
        if (persist) {
          storeTheme(value);
        }
        reflectTheme(value);
      }

      function reflectTheme(theme) {
        if (!toggle) return;
        const isDark = theme === 'dark';
        toggle.setAttribute('aria-pressed', isDark);
        toggle.querySelector('.theme-toggle__icon').textContent = isDark ? 'üåû' : 'üåô';
        toggle.querySelector('.theme-toggle__label').textContent = isDark ? '–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞' : '–¢—ë–º–Ω–∞—è —Ç–µ–º–∞';
        toggle.title = isDark ? '–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É' : '–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Ç—ë–º–Ω—É—é —Ç–µ–º—É';
      }

      applyTheme(getStoredTheme() || docEl.dataset.theme || (prefersDark.matches ? 'dark' : 'light'), false);

      if (toggle) {
        toggle.addEventListener('click', () => {
          const next = docEl.dataset.theme === 'dark' ? 'light' : 'dark';
          applyTheme(next);
        });
      }

      if (prefersDark && typeof prefersDark.addEventListener === 'function') {
        prefersDark.addEventListener('change', (event) => {
          if (!getStoredTheme()) {
            applyTheme(event.matches ? 'dark' : 'light', false);
          }
        });
      }

      function setNavOpen(open) {
        if (!nav || !burger) return;
        nav.dataset.open = open ? 'true' : 'false';
        burger.setAttribute('aria-expanded', open ? 'true' : 'false');
        if (scrim) {
          scrim.dataset.open = open ? 'true' : 'false';
        }
      }

      if (burger) {
        burger.addEventListener('click', () => {
          const next = nav && nav.dataset.open !== 'true';
          setNavOpen(next);
        });
      }

      if (scrim) {
        scrim.addEventListener('click', () => setNavOpen(false));
      }

      if (nav) {
        nav.addEventListener('click', (event) => {
          const target = event.target;
          if (window.innerWidth <= 768 && target instanceof HTMLElement && target.closest('a')) {
            setNavOpen(false);
          }
        });
      }

      window.addEventListener('resize', () => {
        if (window.innerWidth > 768) {
          setNavOpen(false);
        }
      });
    })();
  </script>
  
</body>
</html>