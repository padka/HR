# План работ

| Приоритет | Задача | Размер | Эффект | Ссылки | Проверка |
|-----------|--------|--------|--------|--------|----------|
| P0 | Синхронизировать зависимости: добавить `apscheduler`, `python-multipart`, `alembic` в `pyproject.toml`/`requirements-dev.txt`, обновить `setup.cfg`/`Makefile` | M | Приложение и CI смогут поднимать сервер без ручной установки | `pyproject.toml`, `requirements-dev.txt`, `backend/apps/bot/services.py`, `backend/migrations/runner.py` | `pip install -e ".[dev]" && pytest -q` |
| P0 | Исправить bootstrap базы: гарантировать выполнение миграций и создание `slot_reminder_jobs` при первом запуске | M | Запуск на пустой среде перестанет падать, health-check заработает | `backend/core/bootstrap.py`, `backend/migrations/versions/0008_add_slot_reminder_jobs.py`, `audit/smoke_no_db.log` | `rm -f dev.db && python -m backend.apps.admin_ui.app` + healthcheck |
| P0 | Привести тестовую обвязку в соответствие Starlette 0.37 (`allow_redirects` → `follow_redirects` или фиксация версии) | S | Возврат зелёного `pytest`, рост доверия к UI | `tests/test_admin_recruiters_ui.py`, `audit/pytest.log` | `pytest tests/test_admin_recruiters_ui.py -q` |
| P0 | Добавить установку браузеров Playwright в README/CI, прогревать через `playwright install --with-deps` | S | Визуальные тесты станут воспроизводимыми локально и в CI | `.github/workflows/ci.yml`, `audit/pytest.log` | `playwright install --with-deps && pytest tests/test_ui_screenshots.py -q` |
| P1 | Улучшить безопасность: убрать демо-логины из `.env`, добавить защиту в `require_admin`, включить security middleware | M | Снижение риска компрометации админки | `.env.example`, `backend/apps/admin_ui/security.py`, `backend/apps/admin_ui/app.py` | `pytest tests/test_security.py (добавить)` |
| P1 | Документировать и автоматизировать setup: `make bootstrap`, `make dev-db`, обновить README/Makefile | M | DX для команды и Onboarding | `README.md`, `Makefile`, `audit/LOGS.txt` | `make bootstrap && make dev-db && make test` |
| P2 | Завершить внедрение Liquid Glass: ревизия шаблонов, анимаций, контрастов, добавить визуальные снапшоты | L | Соответствие Apple Liquid Glass, консистентный UI | `tailwind.config.js`, `backend/apps/admin_ui/templates/*`, `ui_screenshots/` | `npm run build:css && pytest tests/test_ui_screenshots.py -q` |
| P2 | Усилить a11y: skip-links, aria-live для ошибок форм, фокус-ловушки в mobile-nav | M | Улучшенный доступ и UX | `backend/apps/admin_ui/templates/base.html`, `backend/apps/admin_ui/templates/recruiters_new.html` | `axe`/`pa11y` прогон + ручные сценарии |
